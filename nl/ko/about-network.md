---

copyright:
  years: 2017, 2018, 2019
lastupdated: "2019-05-14"

keywords: secure, region, zone, subnet, terminology, public gateway, floating IP, NAT

subcollection: vpc-on-classic-network

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:download: .download}

# VPC용 네트워킹 정보
{: #about-networking-for-vpc}

가상 사설 클라우드(VPC)는 고객의 계정에 연결된 가상 네트워크입니다. 사용자의 가상 인프라 및 네트워크 트래픽 분석을 통해 세분화된 제어를 제공함으로써 동적으로 규모를 조절할 수 있는 기능을 사용하여 보안을 제공합니다.

이 문서는 {{site.data.keyword.cloud}} VPC 내에 적용되는 일부 네트워킹 개념을 설명합니다. 설명하는 유스 케이스 및 특성은 다음과 같습니다.

* 지역
* 구역
* 예약된 IP 주소
* 공용 게이트웨이
* vNIC 인터페이스
* 서브넷
* 유동 IP 주소
* VPN 연결

## 개요
{: #subnets-overview}

VPC에서 인터넷에 액세스하기 위해 세 가지 옵션을 사용할 수 있습니다.
* 전체 서브넷의 인터넷 트래픽에는 공용 게이트웨이를 사용하십시오.
* 인스턴스에 대한 인터넷 트래픽에는 유동 IP를 사용하십시오.
* 안전한 외부 연결을 위해 VPN을 사용하십시오.

주의:
* 일부 서브넷 주소 CIDR 범위는 IBM에 의해 예약됩니다.
* 해당 VPC 내에 서브넷을 작성하기 전에 VPC를 작성해야 합니다.
* IPv6 지원은 사용할 수 없습니다.

선택적으로 클래식 액세스 VPC를 작성하여 IBM Cloud 클래식 인프라에 연결할 수 있습니다.
{:note}

다음 그림에 표시된 내용은 다음과 같습니다.
* VPC의 서브넷은 선택적 공용 게이트웨이(PGW)를 통해 공용 인터넷에 연결할 수 있습니다.
* 서브넷이 공용 게이트웨이에 연결되었는지 여부에 관계없이 인터넷에서 연결하도록 유동 IP 주소(FIP)를 임의의 인스턴스에 지정하거나 그 반대로 수행할 수 있습니다.
* IBM Cloud VPC 내의 서브넷은 사설 연결을 제공하며 내재적 라우터를 사용하여 사설 링크를 통해 서로 통신할 수 있습니다. 라우트 설정은 필요하지 않습니다.

![IBM VPC 연결 및 보안](images/vpc-connectivity-and-security.svg "IBM VPC 연결 및 보안"){: caption="Figure: You can subdivide a Virtual Private Cloud with subnets, and each subnet can reach the public Internet, if desired." caption-side="top"}

## 용어
{: #network-terminology}

이 [용어집](/docs/vpc-on-classic?topic=vpc-on-classic-vpc-glossary#vpc-glossary)에는 이 IBM Cloud VPC용 문서에서 사용되는 용어에 대한 정의 및 정보가 포함되어 있습니다. VPC에 대해 작업할 때는 배치에 적용되는 _지역_ 및 _구역_의 기본 개념에 익숙해져야 합니다.

### 지역
{: #subnet-regions}

지역은 VPC가 배치되는 지리적 영역과 관련된 추상적 개념입니다. 각 지역은 다중 구역을 포함하며 구역은 독립적인 결함 도메인을 나타냅니다. IBM Cloud VPC는 지정된 지역 내의 다중 구역을 포함할 수 있습니다.

### 구역
{: #subnet-zones}

구역은 서비스 및 애플리케이션을 제공하는 관련된 냉각 및 전원뿐 아니라 컴퓨팅, 네트워크 및 스토리지 리소스를 호스트하는 물리적 데이터 센터를 의미하는 추상적 개념입니다. 구역을 격리하면 시스템의 전체 결함 허용이 향상되고 대기 시간이 감소되며 단일 공유 실패 지점이 작성되지 않습니다. 구역의 특성은 다음과 같습니다.

 * 각 구역은 독립적인 결함 도메인이며 지역 내의 두 구역이 동시에 실패하는 경우는 매우 드뭅니다.
 * 지역 내 구역 사이의 트래픽은 2ms 미만의 대기 시간을 가집니다.

## VPC의 서브넷의 특성
{: #characteristics-of-subnets}

서브넷은 지정된 IP 주소 범위(CIDR 블록)로 구성됩니다. 서브넷은 단일 구역에 바인드되고 다중 구역 또는 지역에 걸쳐 있을 수 없습니다. 그러나 서브넷은 가상 사설 클라우드 내의 전체 추상 구역에 걸쳐 있을 수 있습니다. 동일한 IBM Cloud VPC 내의 서브넷은 서로 연결됩니다.

### 예약된 IP 주소
{: #reserved-ip-addresses}

특정 IP 주소는 가상 사설 클라우드를 운영할 때 IBM에서 사용하기 위해 예약되어 있습니다. 다음은 예약된 주소입니다. 이러한 IP 주소는 서브넷의 CIDR 범위가 10.10.10.0/24라고 가정합니다.

  * CIDR 범위의 첫 번째 주소(10.10.10.0): 네트워크 주소
  * CIDR 범위의 두 번째 주소(10.10.10.1): 게이트웨이 주소
  * CIDR 범위의 세 번째 주소(10.10.10.2): IBM에 의해 예약됨
  * CIDR 범위의 네 번째 주소(10.10.10.3): 추후 사용을 위해 IBM에 의해 예약됨
  * CIDR 범위의 마지막 주소(10.10.10.255): 네트워크 브로드캐스트 주소

### 서브넷의 외부 연결을 위한 공용 게이트웨이 사용
{: #use-a-public-gateway}

**공용 게이트웨이(PGW)**를 사용하면 서브넷이 서브넷에 연결된 모든 인스턴스와 함께 인터넷에 연결할 수 있습니다. 서브넷은 기본적으로 개인용이나 선택적으로 PGW를 작성하고 서브넷을 PGW에 연결할 수 있습니다. 서브넷이 PGW에 연결된 후에 해당 서브넷의 모든 인스턴스가 인터넷에 연결될 수 있습니다.

PGW는 _다대일 NAT_를 사용합니다. 즉, 사설 주소를 가진 수천 개의 인스턴스가 하나의 공인 IP 주소를 사용하여 공용 인터넷에 접속합니다. PGW는 인터넷이 해당 인스턴스와의 연결을 시작할 수 있도록 허용하지 않습니다. API를 사용하여 PGW에 대해 서브넷을 연결하거나 분리하십시오.

다음은 게이트웨이 서비스의 현재 범위를 요약한 그림입니다.

|SNAT |DNAT |ACL |VPN |
| ---- | ---- | --- | --- |
|인스턴스에 인터넷에 대한 아웃바운드 전용 액세스가 있을 수 있음 |인터넷에서 사설 IP로의 인바운드 연결 허용 |인터넷에서 인스턴스 또는 서브넷으로의 제한된 인바운드 액세스 제공 |사이트 간 VPN은 모든 규모 및 단일 또는 다중 위치의 고객을 처리함 |
|전체 서브넷이 동일한 아웃바운드 공용 엔드포인트를 공유함 |단일 개인용 서버에 대한 제한된 액세스 제공 |서비스, 프로토콜 또는 포트를 기반으로 인터넷에서 인바운드 액세스 제한 |높은 처리량(최대 10Gbps)이 고객에게 대용량 데이터 파일을 안전하고 빠르게 전송할 수 있는 기능을 제공함 |
|인스턴스를 보호함, 공용 엔드포인트를 통해 인스턴스에 대한 액세스를 시작할 수 없음 |DNAT 서비스가 요구사항에 따라 확장 또는 축소될 수 있음 |Stateless ACL을 사용하여 트래픽을 세부 단위로 제어할 수 있음 |업계 표준 암호화로 보안 연결 작성 |

공용 게이트웨이는 VPC에서 작성되나 서브넷에 연결되기 전까지는 어떠한 작업도 수행하지 않습니다. 구역당 하나의 공용 게이트웨이만 작성할 수 있습니다. 예를 들어, 구역이 세 개인 환경에서는 VPC당 세 개의 공용 게이트웨이가 존재할 수 있습니다.
{:note}

## 서브넷 제한사항
{: #limitations-of-subnets}

알려진 제한사항 및 현재 지원되지 않는 기능의 전체 목록은 [알려진 제한사항](/docs/vpc-on-classic?topic=vpc-on-classic-known-limitations) 문서를 참조하십시오.

### 서브넷 삭제에 대한 제한사항
{: #restrictions-on-deleting-a-subnet}

리소스(가상 서버 인스턴스(VSI) 또는 유동 IP)가 서브넷에서 사용 중이면 해당 서브넷을 삭제할 수 없습니다. 리소스를 먼저 삭제해야 합니다.

### 기존 서브넷 업데이트에 대한 제한사항
{: #limitations-on-updating-an-existing-subnet}

* 기존 서브넷의 크기를 조정할 수 없습니다. 예를 들어, 10.10.16.0/24를 10.10.16.0/20으로 크기를 조정할 수 없습니다.
* 기존 서브넷을 이동할 수 없습니다. 예를 들어, 10.10.10.0/24를 10.10.11.0/24로 이동할 수 없습니다.

## 외부 연결
{: #external-connectivity}

인스턴스에 연결된 유동 IP 주소, 서브넷에 연결된 외부 게이트웨이 또는 VPN 터널을 통해 외부 연결을 수행할 수 있습니다.

### 인스턴스의 외부 연결을 위해 유동 IP 주소 사용 
{: #use-floating-ip}

**유동 IP 주소**는 시스템에서 제공되는 IP 주소이며 공용 인터넷에서 연결할 수 있습니다.

IBM이 제공하는 사용 가능한 유동 IP 주소 풀에서 유동 IP 주소를 예약할 수 있으며 동일한 가상 사설 클라우드 내의 임의의 인스턴스를 사용하면 해당 인스턴스에 대한 vNIC를 통해 이를 연결하거나 분리할 수 있습니다. 모든 유동 IP 주소는 로드 밸런서 또는 VPN 게이트웨이 등의 다양한 유형의 가상 서버 인스턴스(VSI)와 연관될 수 있습니다.

사용자의 유동 IP 주소는 다중 인터페이스와 연관될 수 없습니다.개별 유동 IP와 연관될 VSI 상의 인터페이스를 지정해야 합니다. 해당 인터페이스에는 사설 IP 주소도 있습니다. 백엔드 시스템은 해당 인터페이스의 유동 IP 및 사설 IP 간의 _일대일 NAT_ 작업을 수행합니다. 유동 IP는 사용자가 별도로 할당 해제 조치를 요청한 경우에만 해제됩니다.

**참고:**
* **유동 IP 주소와 VSI를 연관시키면 앞에서 언급한 PGW의 다대일 NAT에서 VSI가 제거됩니다.**
* **현재, 유동 IP는 IPv4 주소만 지원합니다.**
* **자신의 공인 IP 주소를 유동 IP로 사용할 수 없습니다.**

NAT 작업에 대한 자세한 정보는 [연관된 인터넷 RFC 문서![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](http://www.faqs.org/rfcs/rfc1631.html){: new_window}를 참조하십시오.

### 안전한 외부 연결을 위한 VPN 사용
{: #use-vpn}

사용자가 가상 사설망(VPN) 서비스를 사용하면 인터넷에서 IBM Cloud VPC에 안전하게 연결할 수 있습니다.

**VPN 기능**
  * 데이터 전송을 처리하기 위한 작성, 읽기, 업데이트 및 삭제(CRUD) VPN 서비스(사이트 대 사이트 IPSEC VPN) 기능
  * VPN 서비스를 고객의 IBM Cloud VPC 또는 가상 네트워크와 연관시키는 기능
  * 정적 정의 또는 동적 라우팅을 사용하여 고객의 온사이트 서브넷을 식별하는 기능
  * SHA256, AES, 3DES, IKEv2와 같은 보안 암호 지원
  * 기본 제공 서비스 신뢰성
  * VPN 연결 상태의 지속적 모니터링
  * 개시자 및 응답자 모드 둘 다에 대한 지원. 즉, 터널의 어느 쪽에서나 트래픽이 시작될 수 있습니다.

## 자세히 보기
{: #subnets-learn-more}
   * [IBM VPC 보안](/docs/vpc-on-classic-network?topic=vpc-on-classic-network-security-in-your-ibm-cloud-vpc)
   * [IBM VPC 주소, 지역 및 서브넷](/docs/vpc-on-classic-network?topic=vpc-on-classic-network-working-with-ip-address-ranges-address-prefixes-regions-and-subnets)
